<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Software Genlock: lib/vsyncalter.cpp File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Software Genlock
   &#160;<span id="projectnumber">v2.0.0</span>
   </div>
   <div id="projectbrief">Digital Signage SW Library for adjusting VSYNC timings via MMIO PLL register modifications.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('vsyncalter_8cpp.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">vsyncalter.cpp File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &lt;stdio.h&gt;</code><br />
<code>#include &lt;math.h&gt;</code><br />
<code>#include &lt;assert.h&gt;</code><br />
<code>#include &lt;cerrno&gt;</code><br />
<code>#include &lt;<a class="el" href="vsyncalter_8h_source.html">vsyncalter.h</a>&gt;</code><br />
<code>#include &lt;<a class="el" href="debug_8h_source.html">debug.h</a>&gt;</code><br />
<code>#include &lt;stdlib.h&gt;</code><br />
<code>#include &lt;memory.h&gt;</code><br />
<code>#include &lt;signal.h&gt;</code><br />
<code>#include &lt;time.h&gt;</code><br />
<code>#include &lt;sys/time.h&gt;</code><br />
<code>#include &lt;unistd.h&gt;</code><br />
<code>#include &lt;fcntl.h&gt;</code><br />
<code>#include &lt;xf86drm.h&gt;</code><br />
<code>#include &lt;<a class="el" href="tgl_8h_source.html">tgl.h</a>&gt;</code><br />
<code>#include &lt;<a class="el" href="adl__s_8h_source.html">adl_s.h</a>&gt;</code><br />
<code>#include &lt;<a class="el" href="adl__p_8h_source.html">adl_p.h</a>&gt;</code><br />
<code>#include &quot;<a class="el" href="mmio_8h_source.html">mmio.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="dkl_8h_source.html">dkl.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="combo_8h_source.html">combo.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="i915__pciids_8h_source.html">i915_pciids.h</a>&quot;</code><br />
</div><div class="textblock"><div id="dynsection-0" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-0-trigger" src="closed.png" alt="+"/> Include dependency graph for vsyncalter.cpp:</div>
<div id="dynsection-0-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-0-content" class="dyncontent" style="display:none;">
<div class="center"><img src="vsyncalter_8cpp__incl.png" border="0" usemap="#alib_2vsyncalter_8cpp" alt=""/></div>
<map name="alib_2vsyncalter_8cpp" id="alib_2vsyncalter_8cpp">
<area shape="rect" title=" " alt="" coords="903,5,1039,32"/>
<area shape="rect" title=" " alt="" coords="199,155,265,181"/>
<area shape="rect" title=" " alt="" coords="30,80,98,107"/>
<area shape="rect" title=" " alt="" coords="123,80,197,107"/>
<area shape="rect" title=" " alt="" coords="222,80,285,107"/>
<area shape="rect" href="vsyncalter_8h.html" title=" " alt="" coords="309,80,411,107"/>
<area shape="rect" href="debug_8h.html" title=" " alt="" coords="435,80,509,107"/>
<area shape="rect" title=" " alt="" coords="534,80,605,107"/>
<area shape="rect" title=" " alt="" coords="629,80,715,107"/>
<area shape="rect" title=" " alt="" coords="739,80,813,107"/>
<area shape="rect" title=" " alt="" coords="837,80,901,107"/>
<area shape="rect" title=" " alt="" coords="925,80,1016,107"/>
<area shape="rect" title=" " alt="" coords="1040,80,1115,107"/>
<area shape="rect" title=" " alt="" coords="1139,80,1202,107"/>
<area shape="rect" title=" " alt="" coords="1226,80,1315,107"/>
<area shape="rect" href="tgl_8h.html" title=" " alt="" coords="1340,80,1391,107"/>
<area shape="rect" href="adl__s_8h.html" title=" " alt="" coords="1415,80,1483,107"/>
<area shape="rect" href="adl__p_8h.html" title=" " alt="" coords="1508,80,1577,107"/>
<area shape="rect" href="mmio_8h.html" title=" " alt="" coords="1784,80,1856,107"/>
<area shape="rect" href="dkl_8h.html" title=" " alt="" coords="1602,80,1657,107"/>
<area shape="rect" href="combo_8h.html" title=" " alt="" coords="1681,80,1759,107"/>
<area shape="rect" href="i915__pciids_8h.html" title=" " alt="" coords="1880,80,1987,107"/>
<area shape="rect" href="common_8h.html" title=" " alt="" coords="1491,155,1594,181"/>
<area shape="rect" title=" " alt="" coords="1521,229,1564,256"/>
<area shape="rect" title=" " alt="" coords="1771,155,1869,181"/>
</map>
</div>
</div>
<p><a href="vsyncalter_8cpp_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:aa4cbfb6dcebfe97b9923cbc44394cc1f"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="vsyncalter_8cpp.html#aa4cbfb6dcebfe97b9923cbc44394cc1f">open_device</a> ()</td></tr>
<tr class="memdesc:aa4cbfb6dcebfe97b9923cbc44394cc1f"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function opens /dev/dri/card0.  <a href="vsyncalter_8cpp.html#aa4cbfb6dcebfe97b9923cbc44394cc1f">More...</a><br /></td></tr>
<tr class="separator:aa4cbfb6dcebfe97b9923cbc44394cc1f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a207d247b175aba8213284ecf344ddd77"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="vsyncalter_8cpp.html#a207d247b175aba8213284ecf344ddd77">close_device</a> ()</td></tr>
<tr class="memdesc:a207d247b175aba8213284ecf344ddd77"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function closes an open handle.  <a href="vsyncalter_8cpp.html#a207d247b175aba8213284ecf344ddd77">More...</a><br /></td></tr>
<tr class="separator:a207d247b175aba8213284ecf344ddd77"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4e6e0eb077dbbca33e1b46831375abd8"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="vsyncalter_8cpp.html#a4e6e0eb077dbbca33e1b46831375abd8">find_enabled_phys</a> ()</td></tr>
<tr class="separator:a4e6e0eb077dbbca33e1b46831375abd8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6c3688799fc62d197fe8e3b25ba950cf"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="vsyncalter_8cpp.html#a6c3688799fc62d197fe8e3b25ba950cf">cleanup_phy_list</a> ()</td></tr>
<tr class="memdesc:a6c3688799fc62d197fe8e3b25ba950cf"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function deallocates all members of the phy_enabled_list.  <a href="vsyncalter_8cpp.html#a6c3688799fc62d197fe8e3b25ba950cf">More...</a><br /></td></tr>
<tr class="separator:a6c3688799fc62d197fe8e3b25ba950cf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1ccc7c011ad035e21d4367fc5dcb412c"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="vsyncalter_8cpp.html#a1ccc7c011ad035e21d4367fc5dcb412c">vsync_lib_init</a> ()</td></tr>
<tr class="memdesc:a1ccc7c011ad035e21d4367fc5dcb412c"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function initializes the library. It must be called ahead of all other functions because it opens device, maps MMIO space and initializes any key global variables.  <a href="vsyncalter_8cpp.html#a1ccc7c011ad035e21d4367fc5dcb412c">More...</a><br /></td></tr>
<tr class="separator:a1ccc7c011ad035e21d4367fc5dcb412c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a35dc013212b176f47265e64746fedc0d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="vsyncalter_8cpp.html#a35dc013212b176f47265e64746fedc0d">vsync_lib_uninit</a> ()</td></tr>
<tr class="memdesc:a35dc013212b176f47265e64746fedc0d"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function uninitializes the library by closing devices and unmapping memory. It must be called at program exit or else we can have memory leaks in the program.  <a href="vsyncalter_8cpp.html#a35dc013212b176f47265e64746fedc0d">More...</a><br /></td></tr>
<tr class="separator:a35dc013212b176f47265e64746fedc0d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a40ee000d121e4ba10d0036aae64652b8"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="vsyncalter_8cpp.html#a40ee000d121e4ba10d0036aae64652b8">synchronize_vsync</a> (double time_diff, int pipe)</td></tr>
<tr class="memdesc:a40ee000d121e4ba10d0036aae64652b8"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function synchronizes the primary and secondary systems vsync. It is run on the secondary system. The way that it works is that it finds out the default PHY register values, calculates a shift based on the time difference provided by the caller and then reprograms the PHY registers so that the secondary system can either slow down or speed up its vsnyc durations.  <a href="vsyncalter_8cpp.html#a40ee000d121e4ba10d0036aae64652b8">More...</a><br /></td></tr>
<tr class="separator:a40ee000d121e4ba10d0036aae64652b8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a109e6f287d9b9dccd010bbeceaab32e8"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="vsyncalter_8cpp.html#a109e6f287d9b9dccd010bbeceaab32e8">vblank_handler</a> (int fd, unsigned int frame, unsigned int sec, unsigned int usec, void *data)</td></tr>
<tr class="memdesc:a109e6f287d9b9dccd010bbeceaab32e8"><td class="mdescLeft">&#160;</td><td class="mdescRight">The function which will be called whenever a VBLANK occurs.  <a href="vsyncalter_8cpp.html#a109e6f287d9b9dccd010bbeceaab32e8">More...</a><br /></td></tr>
<tr class="separator:a109e6f287d9b9dccd010bbeceaab32e8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa5b2359b39d48f12b1e5698243aa677c"><td class="memItemLeft" align="right" valign="top">unsigned int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="vsyncalter_8cpp.html#aa5b2359b39d48f12b1e5698243aa677c">pipe_to_wait_for</a> (int pipe)</td></tr>
<tr class="memdesc:aa5b2359b39d48f12b1e5698243aa677c"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function determines the type of vblank synchronization to use for the output.  <a href="vsyncalter_8cpp.html#aa5b2359b39d48f12b1e5698243aa677c">More...</a><br /></td></tr>
<tr class="separator:aa5b2359b39d48f12b1e5698243aa677c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1ba8490a15285f7f92273235530e548a"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="vsyncalter_8cpp.html#a1ba8490a15285f7f92273235530e548a">get_vsync</a> (long *vsync_array, int size, int pipe)</td></tr>
<tr class="memdesc:a1ba8490a15285f7f92273235530e548a"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function gets a list of vsyncs for the number of times indicated by the caller and provide their timestamps in the array provided.  <a href="vsyncalter_8cpp.html#a1ba8490a15285f7f92273235530e548a">More...</a><br /></td></tr>
<tr class="separator:a1ba8490a15285f7f92273235530e548a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a35916f91e4a08b4a6827b0898227c396"><td class="memItemLeft" align="right" valign="top"><a class="el" href="common_8h.html#structplatform">platform</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="vsyncalter_8cpp.html#a35916f91e4a08b4a6827b0898227c396">platform_table</a> []</td></tr>
<tr class="separator:a35916f91e4a08b4a6827b0898227c396"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aed763f22f9fe5480ed6d5d90271ff5e2"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="vsyncalter_8cpp.html#aed763f22f9fe5480ed6d5d90271ff5e2">g_dev_fd</a> = 0</td></tr>
<tr class="separator:aed763f22f9fe5480ed6d5d90271ff5e2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad528e611992e8351b42c55c1f9e59bdc"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="vsyncalter_8cpp.html#ad528e611992e8351b42c55c1f9e59bdc">supported_platform</a> = 0</td></tr>
<tr class="separator:ad528e611992e8351b42c55c1f9e59bdc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad08703bf05109d352d48f642ea5d560e"><td class="memItemLeft" align="right" valign="top">list&lt; <a class="el" href="classphys.html">phys</a> * &gt; *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="vsyncalter_8cpp.html#ad08703bf05109d352d48f642ea5d560e">phy_enabled_list</a> = NULL</td></tr>
<tr class="separator:ad08703bf05109d352d48f642ea5d560e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a id="aa4cbfb6dcebfe97b9923cbc44394cc1f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa4cbfb6dcebfe97b9923cbc44394cc1f">&#9670;&nbsp;</a></span>open_device()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int open_device </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function opens /dev/dri/card0. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">None</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li>0 == SUCCESS</li>
<li>&lt;0 == FAILURE </li>
</ul>
</dd></dl>

<p class="definition">Definition at line <a class="el" href="vsyncalter_8cpp_source.html#l00107">107</a> of file <a class="el" href="vsyncalter_8cpp_source.html">vsyncalter.cpp</a>.</p>
<div id="dynsection-1" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-1-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-1-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-1-content" class="dyncontent" style="display:none;">
<div class="center"><img src="vsyncalter_8cpp_aa4cbfb6dcebfe97b9923cbc44394cc1f_icgraph.png" border="0" usemap="#avsyncalter_8cpp_aa4cbfb6dcebfe97b9923cbc44394cc1f_icgraph" alt=""/></div>
<map name="avsyncalter_8cpp_aa4cbfb6dcebfe97b9923cbc44394cc1f_icgraph" id="avsyncalter_8cpp_aa4cbfb6dcebfe97b9923cbc44394cc1f_icgraph">
<area shape="rect" title="This function opens /dev/dri/card0." alt="" coords="525,56,629,83"/>
<area shape="rect" href="vsyncalter_8h.html#ac60432ce7a758749c9a717e9e7668850" title="This function gets a list of vsyncs for the number of times indicated by the caller and provide their..." alt="" coords="389,56,477,83"/>
<area shape="rect" href="vsync__test_8cpp.html#a30f13cb2b111df5e72d2c977803a52ce" title="This function is used by the server side to get last 10 vsyncs, send them to the client and receive a..." alt="" coords="268,5,341,32"/>
<area shape="rect" href="vsync__test_8cpp.html#aaf4da81aa0bbd7eeb5c7094d4decd35d" title="This function takes all the actions of the secondary system which are to initialize the client,..." alt="" coords="108,56,220,83"/>
<area shape="rect" href="vbltest_8cpp.html#a0ddf1224851353fc92bfbff6f499fa97" title="This is the main function." alt="" coords="277,107,332,133"/>
<area shape="rect" href="vsync__test_8cpp.html#a2b051595562e86bcc7ae070fc4f4f3a6" title="This function takes all the actions of the primary system which are to initialize the server,..." alt="" coords="116,5,212,32"/>
<area shape="rect" href="vsync__test_8cpp.html#a0ddf1224851353fc92bfbff6f499fa97" title="This is the main function." alt="" coords="5,31,60,57"/>
</map>
</div>

</div>
</div>
<a id="a207d247b175aba8213284ecf344ddd77"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a207d247b175aba8213284ecf344ddd77">&#9670;&nbsp;</a></span>close_device()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void close_device </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function closes an open handle. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">None</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>void </dd></dl>

<p class="definition">Definition at line <a class="el" href="vsyncalter_8cpp_source.html#l00118">118</a> of file <a class="el" href="vsyncalter_8cpp_source.html">vsyncalter.cpp</a>.</p>
<div id="dynsection-2" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-2-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-2-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-2-content" class="dyncontent" style="display:none;">
<div class="center"><img src="vsyncalter_8cpp_a207d247b175aba8213284ecf344ddd77_icgraph.png" border="0" usemap="#avsyncalter_8cpp_a207d247b175aba8213284ecf344ddd77_icgraph" alt=""/></div>
<map name="avsyncalter_8cpp_a207d247b175aba8213284ecf344ddd77_icgraph" id="avsyncalter_8cpp_a207d247b175aba8213284ecf344ddd77_icgraph">
<area shape="rect" title="This function closes an open handle." alt="" coords="525,56,632,83"/>
<area shape="rect" href="vsyncalter_8h.html#ac60432ce7a758749c9a717e9e7668850" title="This function gets a list of vsyncs for the number of times indicated by the caller and provide their..." alt="" coords="389,56,477,83"/>
<area shape="rect" href="vsync__test_8cpp.html#a30f13cb2b111df5e72d2c977803a52ce" title="This function is used by the server side to get last 10 vsyncs, send them to the client and receive a..." alt="" coords="268,5,341,32"/>
<area shape="rect" href="vsync__test_8cpp.html#aaf4da81aa0bbd7eeb5c7094d4decd35d" title="This function takes all the actions of the secondary system which are to initialize the client,..." alt="" coords="108,56,220,83"/>
<area shape="rect" href="vbltest_8cpp.html#a0ddf1224851353fc92bfbff6f499fa97" title="This is the main function." alt="" coords="277,107,332,133"/>
<area shape="rect" href="vsync__test_8cpp.html#a2b051595562e86bcc7ae070fc4f4f3a6" title="This function takes all the actions of the primary system which are to initialize the server,..." alt="" coords="116,5,212,32"/>
<area shape="rect" href="vsync__test_8cpp.html#a0ddf1224851353fc92bfbff6f499fa97" title="This is the main function." alt="" coords="5,31,60,57"/>
</map>
</div>

</div>
</div>
<a id="a4e6e0eb077dbbca33e1b46831375abd8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4e6e0eb077dbbca33e1b46831375abd8">&#9670;&nbsp;</a></span>find_enabled_phys()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int find_enabled_phys </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="vsyncalter_8cpp_source.html#l00125">125</a> of file <a class="el" href="vsyncalter_8cpp_source.html">vsyncalter.cpp</a>.</p>
<div id="dynsection-3" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-3-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-3-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-3-content" class="dyncontent" style="display:none;">
<div class="center"><img src="vsyncalter_8cpp_a4e6e0eb077dbbca33e1b46831375abd8_cgraph.png" border="0" usemap="#avsyncalter_8cpp_a4e6e0eb077dbbca33e1b46831375abd8_cgraph" alt=""/></div>
<map name="avsyncalter_8cpp_a4e6e0eb077dbbca33e1b46831375abd8_cgraph" id="avsyncalter_8cpp_a4e6e0eb077dbbca33e1b46831375abd8_cgraph">
<area shape="rect" title=" " alt="" coords="5,31,148,57"/>
<area shape="rect" href="classphys.html#ad3682305151b6fe10b2ecf771282fa8a" title=" " alt="" coords="204,5,304,32"/>
<area shape="rect" href="classphys.html#ae3f11f89d561c45ec9233729f4382733" title=" " alt="" coords="196,56,312,83"/>
</map>
</div>
<div id="dynsection-4" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-4-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-4-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-4-content" class="dyncontent" style="display:none;">
<div class="center"><img src="vsyncalter_8cpp_a4e6e0eb077dbbca33e1b46831375abd8_icgraph.png" border="0" usemap="#avsyncalter_8cpp_a4e6e0eb077dbbca33e1b46831375abd8_icgraph" alt=""/></div>
<map name="avsyncalter_8cpp_a4e6e0eb077dbbca33e1b46831375abd8_icgraph" id="avsyncalter_8cpp_a4e6e0eb077dbbca33e1b46831375abd8_icgraph">
<area shape="rect" title=" " alt="" coords="267,5,409,32"/>
<area shape="rect" href="vsyncalter_8h.html#a1ccc7c011ad035e21d4367fc5dcb412c" title="This function initializes the library. It must be called ahead of all other functions because it open..." alt="" coords="108,5,219,32"/>
<area shape="rect" href="synctest_8cpp.html#a0ddf1224851353fc92bfbff6f499fa97" title="This is the main function." alt="" coords="5,5,60,32"/>
</map>
</div>

</div>
</div>
<a id="a6c3688799fc62d197fe8e3b25ba950cf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6c3688799fc62d197fe8e3b25ba950cf">&#9670;&nbsp;</a></span>cleanup_phy_list()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void cleanup_phy_list </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function deallocates all members of the phy_enabled_list. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">None</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>void </dd></dl>

<p class="definition">Definition at line <a class="el" href="vsyncalter_8cpp_source.html#l00210">210</a> of file <a class="el" href="vsyncalter_8cpp_source.html">vsyncalter.cpp</a>.</p>
<div id="dynsection-5" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-5-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-5-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-5-content" class="dyncontent" style="display:none;">
<div class="center"><img src="vsyncalter_8cpp_a6c3688799fc62d197fe8e3b25ba950cf_icgraph.png" border="0" usemap="#avsyncalter_8cpp_a6c3688799fc62d197fe8e3b25ba950cf_icgraph" alt=""/></div>
<map name="avsyncalter_8cpp_a6c3688799fc62d197fe8e3b25ba950cf_icgraph" id="avsyncalter_8cpp_a6c3688799fc62d197fe8e3b25ba950cf_icgraph">
<area shape="rect" title="This function deallocates all members of the phy_enabled_list." alt="" coords="625,31,756,57"/>
<area shape="rect" href="vsyncalter_8h.html#a35dc013212b176f47265e64746fedc0d" title="This function uninitializes the library by closing devices and unmapping memory. It must be called at..." alt="" coords="451,31,577,57"/>
<area shape="rect" href="synctest_8cpp.html#a0ddf1224851353fc92bfbff6f499fa97" title="This is the main function." alt="" coords="129,5,183,32"/>
<area shape="rect" href="vsync__test_8cpp.html#a39b58a2a7bc1057f428bb132a1f46fe7" title="This function closes the server&#39;s socket." alt="" coords="252,81,403,108"/>
<area shape="rect" href="vsyncalter_8h.html#a1ccc7c011ad035e21d4367fc5dcb412c" title="This function initializes the library. It must be called ahead of all other functions because it open..." alt="" coords="272,31,383,57"/>
<area shape="rect" href="vsync__test_8cpp.html#a2b051595562e86bcc7ae070fc4f4f3a6" title="This function takes all the actions of the primary system which are to initialize the server,..." alt="" coords="108,81,204,108"/>
<area shape="rect" href="vsync__test_8cpp.html#a0ddf1224851353fc92bfbff6f499fa97" title="This is the main function." alt="" coords="5,81,60,108"/>
</map>
</div>

</div>
</div>
<a id="a1ccc7c011ad035e21d4367fc5dcb412c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1ccc7c011ad035e21d4367fc5dcb412c">&#9670;&nbsp;</a></span>vsync_lib_init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int vsync_lib_init </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function initializes the library. It must be called ahead of all other functions because it opens device, maps MMIO space and initializes any key global variables. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">None</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li>0 == SUCCESS</li>
<li>1 == FAILURE </li>
</ul>
</dd></dl>

<p class="definition">Definition at line <a class="el" href="vsyncalter_8cpp_source.html#l00232">232</a> of file <a class="el" href="vsyncalter_8cpp_source.html">vsyncalter.cpp</a>.</p>
<div id="dynsection-6" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-6-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-6-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-6-content" class="dyncontent" style="display:none;">
<div class="center"><img src="vsyncalter_8cpp_a1ccc7c011ad035e21d4367fc5dcb412c_cgraph.png" border="0" usemap="#avsyncalter_8cpp_a1ccc7c011ad035e21d4367fc5dcb412c_cgraph" alt=""/></div>
<map name="avsyncalter_8cpp_a1ccc7c011ad035e21d4367fc5dcb412c_cgraph" id="avsyncalter_8cpp_a1ccc7c011ad035e21d4367fc5dcb412c_cgraph">
<area shape="rect" title="This function initializes the library. It must be called ahead of all other functions because it open..." alt="" coords="5,132,116,159"/>
<area shape="rect" href="vsyncalter_8cpp.html#a4e6e0eb077dbbca33e1b46831375abd8" title=" " alt="" coords="164,56,307,83"/>
<area shape="rect" href="mmio_8cpp.html#aba63761c97bf3ce8d09b95186f08d487" title="This functions gets the deivce ID of the device." alt="" coords="179,107,291,133"/>
<area shape="rect" href="mmio_8cpp.html#a27c965f14e3b33dbdaae56d707dc39f4" title="This functions maps the MMIO region." alt="" coords="187,157,283,184"/>
<area shape="rect" href="vsyncalter_8cpp.html#a35dc013212b176f47265e64746fedc0d" title="This function uninitializes the library by closing devices and unmapping memory. It must be called at..." alt="" coords="172,208,299,235"/>
<area shape="rect" href="classphys.html#ad3682305151b6fe10b2ecf771282fa8a" title=" " alt="" coords="395,5,495,32"/>
<area shape="rect" href="classphys.html#ae3f11f89d561c45ec9233729f4382733" title=" " alt="" coords="387,56,503,83"/>
<area shape="rect" href="mmio_8cpp.html#a2fbf38be7295d345a8dd72b4c618cf4f" title="Looks up the main graphics pci device using libpciaccess." alt="" coords="367,107,522,133"/>
<area shape="rect" href="mmio_8cpp.html#ada91c2b510d23f69cb4af413ffc9384d" title="Fill a mmio_data stucture with igt_mmio to point at the mmio bar." alt="" coords="355,157,535,184"/>
<area shape="rect" href="vsyncalter_8cpp.html#a6c3688799fc62d197fe8e3b25ba950cf" title="This function deallocates all members of the phy_enabled_list." alt="" coords="379,208,510,235"/>
<area shape="rect" href="mmio_8cpp.html#a103c86119a15e95de20a15b3b017def2" title="Unmap the memory range that was mapped during initialization." alt="" coords="369,259,521,285"/>
</map>
</div>
<div id="dynsection-7" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-7-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-7-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-7-content" class="dyncontent" style="display:none;">
<div class="center"><img src="vsyncalter_8cpp_a1ccc7c011ad035e21d4367fc5dcb412c_icgraph.png" border="0" usemap="#avsyncalter_8cpp_a1ccc7c011ad035e21d4367fc5dcb412c_icgraph" alt=""/></div>
<map name="avsyncalter_8cpp_a1ccc7c011ad035e21d4367fc5dcb412c_icgraph" id="avsyncalter_8cpp_a1ccc7c011ad035e21d4367fc5dcb412c_icgraph">
<area shape="rect" title="This function initializes the library. It must be called ahead of all other functions because it open..." alt="" coords="108,5,219,32"/>
<area shape="rect" href="synctest_8cpp.html#a0ddf1224851353fc92bfbff6f499fa97" title="This is the main function." alt="" coords="5,5,60,32"/>
</map>
</div>

</div>
</div>
<a id="a35dc013212b176f47265e64746fedc0d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a35dc013212b176f47265e64746fedc0d">&#9670;&nbsp;</a></span>vsync_lib_uninit()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void vsync_lib_uninit </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function uninitializes the library by closing devices and unmapping memory. It must be called at program exit or else we can have memory leaks in the program. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">None</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>void </dd></dl>

<p class="definition">Definition at line <a class="el" href="vsyncalter_8cpp_source.html#l00281">281</a> of file <a class="el" href="vsyncalter_8cpp_source.html">vsyncalter.cpp</a>.</p>
<div id="dynsection-8" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-8-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-8-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-8-content" class="dyncontent" style="display:none;">
<div class="center"><img src="vsyncalter_8cpp_a35dc013212b176f47265e64746fedc0d_cgraph.png" border="0" usemap="#avsyncalter_8cpp_a35dc013212b176f47265e64746fedc0d_cgraph" alt=""/></div>
<map name="avsyncalter_8cpp_a35dc013212b176f47265e64746fedc0d_cgraph" id="avsyncalter_8cpp_a35dc013212b176f47265e64746fedc0d_cgraph">
<area shape="rect" title="This function uninitializes the library by closing devices and unmapping memory. It must be called at..." alt="" coords="5,31,132,57"/>
<area shape="rect" href="vsyncalter_8cpp.html#a6c3688799fc62d197fe8e3b25ba950cf" title="This function deallocates all members of the phy_enabled_list." alt="" coords="191,5,321,32"/>
<area shape="rect" href="mmio_8cpp.html#a103c86119a15e95de20a15b3b017def2" title="Unmap the memory range that was mapped during initialization." alt="" coords="180,56,332,83"/>
</map>
</div>
<div id="dynsection-9" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-9-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-9-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-9-content" class="dyncontent" style="display:none;">
<div class="center"><img src="vsyncalter_8cpp_a35dc013212b176f47265e64746fedc0d_icgraph.png" border="0" usemap="#avsyncalter_8cpp_a35dc013212b176f47265e64746fedc0d_icgraph" alt=""/></div>
<map name="avsyncalter_8cpp_a35dc013212b176f47265e64746fedc0d_icgraph" id="avsyncalter_8cpp_a35dc013212b176f47265e64746fedc0d_icgraph">
<area shape="rect" title="This function uninitializes the library by closing devices and unmapping memory. It must be called at..." alt="" coords="451,31,577,57"/>
<area shape="rect" href="synctest_8cpp.html#a0ddf1224851353fc92bfbff6f499fa97" title="This is the main function." alt="" coords="129,5,183,32"/>
<area shape="rect" href="vsync__test_8cpp.html#a39b58a2a7bc1057f428bb132a1f46fe7" title="This function closes the server&#39;s socket." alt="" coords="252,81,403,108"/>
<area shape="rect" href="vsyncalter_8h.html#a1ccc7c011ad035e21d4367fc5dcb412c" title="This function initializes the library. It must be called ahead of all other functions because it open..." alt="" coords="272,31,383,57"/>
<area shape="rect" href="vsync__test_8cpp.html#a2b051595562e86bcc7ae070fc4f4f3a6" title="This function takes all the actions of the primary system which are to initialize the server,..." alt="" coords="108,81,204,108"/>
<area shape="rect" href="vsync__test_8cpp.html#a0ddf1224851353fc92bfbff6f499fa97" title="This is the main function." alt="" coords="5,81,60,108"/>
</map>
</div>

</div>
</div>
<a id="a40ee000d121e4ba10d0036aae64652b8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a40ee000d121e4ba10d0036aae64652b8">&#9670;&nbsp;</a></span>synchronize_vsync()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void synchronize_vsync </td>
          <td>(</td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>time_diff</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>pipe</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function synchronizes the primary and secondary systems vsync. It is run on the secondary system. The way that it works is that it finds out the default PHY register values, calculates a shift based on the time difference provided by the caller and then reprograms the PHY registers so that the secondary system can either slow down or speed up its vsnyc durations. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">time_diff</td><td>- This is the time difference in between the primary and the secondary systems in ms. If master is ahead of the slave , then the time difference is a positive number otherwise negative. </td></tr>
    <tr><td class="paramname">pipe</td><td>- This is the 0 based pipe number to synchronize vsyncs for. Note that this variable is optional. So if the caller doesn't provide it or provides ALL_PIPES as the value, then all pipes will be synchronized. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>void </dd></dl>

<p class="definition">Definition at line <a class="el" href="vsyncalter_8cpp_source.html#l00304">304</a> of file <a class="el" href="vsyncalter_8cpp_source.html">vsyncalter.cpp</a>.</p>
<div id="dynsection-10" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-10-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-10-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-10-content" class="dyncontent" style="display:none;">
<div class="center"><img src="vsyncalter_8cpp_a40ee000d121e4ba10d0036aae64652b8_icgraph.png" border="0" usemap="#avsyncalter_8cpp_a40ee000d121e4ba10d0036aae64652b8_icgraph" alt=""/></div>
<map name="avsyncalter_8cpp_a40ee000d121e4ba10d0036aae64652b8_icgraph" id="avsyncalter_8cpp_a40ee000d121e4ba10d0036aae64652b8_icgraph">
<area shape="rect" title="This function synchronizes the primary and secondary systems vsync. It is run on the secondary system..." alt="" coords="268,31,413,57"/>
<area shape="rect" href="vsync__test_8cpp.html#aaf4da81aa0bbd7eeb5c7094d4decd35d" title="This function takes all the actions of the secondary system which are to initialize the client,..." alt="" coords="108,5,220,32"/>
<area shape="rect" href="synctest_8cpp.html#a0ddf1224851353fc92bfbff6f499fa97" title="This is the main function." alt="" coords="137,56,191,83"/>
<area shape="rect" href="vsync__test_8cpp.html#a0ddf1224851353fc92bfbff6f499fa97" title="This is the main function." alt="" coords="5,5,60,32"/>
</map>
</div>

</div>
</div>
<a id="a109e6f287d9b9dccd010bbeceaab32e8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a109e6f287d9b9dccd010bbeceaab32e8">&#9670;&nbsp;</a></span>vblank_handler()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void vblank_handler </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>fd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>frame</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>sec</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>usec</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The function which will be called whenever a VBLANK occurs. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">fd</td><td>- The device file descriptor </td></tr>
    <tr><td class="paramname">frame</td><td>- Frame number </td></tr>
    <tr><td class="paramname">sec</td><td>- second when the vblank occured </td></tr>
    <tr><td class="paramname">usec</td><td>- micro second when the vblank occured </td></tr>
    <tr><td class="paramname">*data</td><td>- a private data structure pointing to the <a class="el" href="common_8h.html#structvbl__info">vbl_info</a> </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>void </dd></dl>

<p class="definition">Definition at line <a class="el" href="vsyncalter_8cpp_source.html#l00334">334</a> of file <a class="el" href="vsyncalter_8cpp_source.html">vsyncalter.cpp</a>.</p>
<div id="dynsection-11" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-11-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-11-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-11-content" class="dyncontent" style="display:none;">
<div class="center"><img src="vsyncalter_8cpp_a109e6f287d9b9dccd010bbeceaab32e8_cgraph.png" border="0" usemap="#avsyncalter_8cpp_a109e6f287d9b9dccd010bbeceaab32e8_cgraph" alt=""/></div>
<map name="avsyncalter_8cpp_a109e6f287d9b9dccd010bbeceaab32e8_cgraph" id="avsyncalter_8cpp_a109e6f287d9b9dccd010bbeceaab32e8_cgraph">
<area shape="rect" title="The function which will be called whenever a VBLANK occurs." alt="" coords="5,5,128,32"/>
<area shape="rect" href="vsyncalter_8cpp.html#aa5b2359b39d48f12b1e5698243aa677c" title="This function determines the type of vblank synchronization to use for the output." alt="" coords="176,5,307,32"/>
</map>
</div>
<div id="dynsection-12" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-12-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-12-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-12-content" class="dyncontent" style="display:none;">
<div class="center"><img src="vsyncalter_8cpp_a109e6f287d9b9dccd010bbeceaab32e8_icgraph.png" border="0" usemap="#avsyncalter_8cpp_a109e6f287d9b9dccd010bbeceaab32e8_icgraph" alt=""/></div>
<map name="avsyncalter_8cpp_a109e6f287d9b9dccd010bbeceaab32e8_icgraph" id="avsyncalter_8cpp_a109e6f287d9b9dccd010bbeceaab32e8_icgraph">
<area shape="rect" title="The function which will be called whenever a VBLANK occurs." alt="" coords="525,56,648,83"/>
<area shape="rect" href="vsyncalter_8h.html#ac60432ce7a758749c9a717e9e7668850" title="This function gets a list of vsyncs for the number of times indicated by the caller and provide their..." alt="" coords="389,56,477,83"/>
<area shape="rect" href="vsync__test_8cpp.html#a30f13cb2b111df5e72d2c977803a52ce" title="This function is used by the server side to get last 10 vsyncs, send them to the client and receive a..." alt="" coords="268,5,341,32"/>
<area shape="rect" href="vsync__test_8cpp.html#aaf4da81aa0bbd7eeb5c7094d4decd35d" title="This function takes all the actions of the secondary system which are to initialize the client,..." alt="" coords="108,56,220,83"/>
<area shape="rect" href="vbltest_8cpp.html#a0ddf1224851353fc92bfbff6f499fa97" title="This is the main function." alt="" coords="277,107,332,133"/>
<area shape="rect" href="vsync__test_8cpp.html#a2b051595562e86bcc7ae070fc4f4f3a6" title="This function takes all the actions of the primary system which are to initialize the server,..." alt="" coords="116,5,212,32"/>
<area shape="rect" href="vsync__test_8cpp.html#a0ddf1224851353fc92bfbff6f499fa97" title="This is the main function." alt="" coords="5,31,60,57"/>
</map>
</div>

</div>
</div>
<a id="aa5b2359b39d48f12b1e5698243aa677c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa5b2359b39d48f12b1e5698243aa677c">&#9670;&nbsp;</a></span>pipe_to_wait_for()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned int pipe_to_wait_for </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>pipe</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function determines the type of vblank synchronization to use for the output. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pipe</td><td>- Indicates which CRTC to get vblank for. Knowing this, we can determine which vblank sequence type to use for it. Traditional cards had only two CRTCs, with CRTC 0 using no special flags, and CRTC 1 using DRM_VBLANK_SECONDARY. The first bit of the pipe Bits 1-5 of the pipe parameter are 5 bit wide pipe number between 0-31. If this is non-zero it indicates we're dealing with a multi-gpu situation and we need to calculate the vblank sync using DRM_BLANK_HIGH_CRTC_MASK. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The flag to OR in for drmWaitVBlank API </dd></dl>

<p class="definition">Definition at line <a class="el" href="vsyncalter_8cpp_source.html#l00366">366</a> of file <a class="el" href="vsyncalter_8cpp_source.html">vsyncalter.cpp</a>.</p>
<div id="dynsection-13" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-13-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-13-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-13-content" class="dyncontent" style="display:none;">
<div class="center"><img src="vsyncalter_8cpp_aa5b2359b39d48f12b1e5698243aa677c_icgraph.png" border="0" usemap="#avsyncalter_8cpp_aa5b2359b39d48f12b1e5698243aa677c_icgraph" alt=""/></div>
<map name="avsyncalter_8cpp_aa5b2359b39d48f12b1e5698243aa677c_icgraph" id="avsyncalter_8cpp_aa5b2359b39d48f12b1e5698243aa677c_icgraph">
<area shape="rect" title="This function determines the type of vblank synchronization to use for the output." alt="" coords="696,56,827,83"/>
<area shape="rect" href="vsyncalter_8h.html#ac60432ce7a758749c9a717e9e7668850" title="This function gets a list of vsyncs for the number of times indicated by the caller and provide their..." alt="" coords="389,56,477,83"/>
<area shape="rect" href="vsyncalter_8cpp.html#a109e6f287d9b9dccd010bbeceaab32e8" title="The function which will be called whenever a VBLANK occurs." alt="" coords="525,81,648,108"/>
<area shape="rect" href="vsync__test_8cpp.html#a30f13cb2b111df5e72d2c977803a52ce" title="This function is used by the server side to get last 10 vsyncs, send them to the client and receive a..." alt="" coords="268,5,341,32"/>
<area shape="rect" href="vsync__test_8cpp.html#aaf4da81aa0bbd7eeb5c7094d4decd35d" title="This function takes all the actions of the secondary system which are to initialize the client,..." alt="" coords="108,56,220,83"/>
<area shape="rect" href="vbltest_8cpp.html#a0ddf1224851353fc92bfbff6f499fa97" title="This is the main function." alt="" coords="277,107,332,133"/>
<area shape="rect" href="vsync__test_8cpp.html#a2b051595562e86bcc7ae070fc4f4f3a6" title="This function takes all the actions of the primary system which are to initialize the server,..." alt="" coords="116,5,212,32"/>
<area shape="rect" href="vsync__test_8cpp.html#a0ddf1224851353fc92bfbff6f499fa97" title="This is the main function." alt="" coords="5,31,60,57"/>
</map>
</div>

</div>
</div>
<a id="a1ba8490a15285f7f92273235530e548a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1ba8490a15285f7f92273235530e548a">&#9670;&nbsp;</a></span>get_vsync()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int get_vsync </td>
          <td>(</td>
          <td class="paramtype">long *&#160;</td>
          <td class="paramname"><em>vsync_array</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>pipe</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function gets a list of vsyncs for the number of times indicated by the caller and provide their timestamps in the array provided. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">*vsync_array</td><td>- The array in which vsync timestamps need to be given </td></tr>
    <tr><td class="paramname">size</td><td>- The size of this array. This is also the number of times that we need to get the next few vsync timestamps. </td></tr>
    <tr><td class="paramname">pipe</td><td>- This is the pipe whose vblank is needed. Defaults to 0 if not provided. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li>0 == SUCCESS</li>
<li>1 = ERROR </li>
</ul>
</dd></dl>

<p class="definition">Definition at line <a class="el" href="vsyncalter_8cpp_source.html#l00390">390</a> of file <a class="el" href="vsyncalter_8cpp_source.html">vsyncalter.cpp</a>.</p>
<div id="dynsection-14" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-14-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-14-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-14-content" class="dyncontent" style="display:none;">
<div class="center"><img src="vsyncalter_8cpp_a1ba8490a15285f7f92273235530e548a_cgraph.png" border="0" usemap="#avsyncalter_8cpp_a1ba8490a15285f7f92273235530e548a_cgraph" alt=""/></div>
<map name="avsyncalter_8cpp_a1ba8490a15285f7f92273235530e548a_cgraph" id="avsyncalter_8cpp_a1ba8490a15285f7f92273235530e548a_cgraph">
<area shape="rect" title="This function gets a list of vsyncs for the number of times indicated by the caller and provide their..." alt="" coords="5,81,93,108"/>
<area shape="rect" href="vsyncalter_8cpp.html#a207d247b175aba8213284ecf344ddd77" title="This function closes an open handle." alt="" coords="149,5,256,32"/>
<area shape="rect" href="vsyncalter_8cpp.html#aa4cbfb6dcebfe97b9923cbc44394cc1f" title="This function opens /dev/dri/card0." alt="" coords="151,56,255,83"/>
<area shape="rect" href="vsyncalter_8cpp.html#aa5b2359b39d48f12b1e5698243aa677c" title="This function determines the type of vblank synchronization to use for the output." alt="" coords="312,132,443,159"/>
<area shape="rect" href="vsyncalter_8cpp.html#a109e6f287d9b9dccd010bbeceaab32e8" title="The function which will be called whenever a VBLANK occurs." alt="" coords="141,157,264,184"/>
</map>
</div>
<div id="dynsection-15" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-15-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-15-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-15-content" class="dyncontent" style="display:none;">
<div class="center"><img src="vsyncalter_8cpp_a1ba8490a15285f7f92273235530e548a_icgraph.png" border="0" usemap="#avsyncalter_8cpp_a1ba8490a15285f7f92273235530e548a_icgraph" alt=""/></div>
<map name="avsyncalter_8cpp_a1ba8490a15285f7f92273235530e548a_icgraph" id="avsyncalter_8cpp_a1ba8490a15285f7f92273235530e548a_icgraph">
<area shape="rect" title="This function gets a list of vsyncs for the number of times indicated by the caller and provide their..." alt="" coords="389,56,477,83"/>
<area shape="rect" href="vsync__test_8cpp.html#a30f13cb2b111df5e72d2c977803a52ce" title="This function is used by the server side to get last 10 vsyncs, send them to the client and receive a..." alt="" coords="268,5,341,32"/>
<area shape="rect" href="vsync__test_8cpp.html#aaf4da81aa0bbd7eeb5c7094d4decd35d" title="This function takes all the actions of the secondary system which are to initialize the client,..." alt="" coords="108,56,220,83"/>
<area shape="rect" href="vbltest_8cpp.html#a0ddf1224851353fc92bfbff6f499fa97" title="This is the main function." alt="" coords="277,107,332,133"/>
<area shape="rect" href="vsync__test_8cpp.html#a2b051595562e86bcc7ae070fc4f4f3a6" title="This function takes all the actions of the primary system which are to initialize the server,..." alt="" coords="116,5,212,32"/>
<area shape="rect" href="vsync__test_8cpp.html#a0ddf1224851353fc92bfbff6f499fa97" title="This is the main function." alt="" coords="5,31,60,57"/>
</map>
</div>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="a35916f91e4a08b4a6827b0898227c396"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a35916f91e4a08b4a6827b0898227c396">&#9670;&nbsp;</a></span>platform_table</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="common_8h.html#structplatform">platform</a> platform_table[]</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">= {</div>
<div class="line">    {<span class="stringliteral">&quot;TGL&quot;</span>,   {<a class="code" href="i915__pciids_8h.html#a1f23700b8452a6fe5163a6f7ba4b3bbf">INTEL_TGL_IDS</a>},  <a class="code" href="tgl_8h.html#af557d3bb722698ff2e4669d32ea32680">tgl_ddi_sel</a>,   <a class="code" href="common_8h.html#a25f003de16c08a4888b69f619d70f427">ARRAY_SIZE</a>(<a class="code" href="tgl_8h.html#af557d3bb722698ff2e4669d32ea32680">tgl_ddi_sel</a>), 4},</div>
<div class="line">    {<span class="stringliteral">&quot;ADL_S_FAM&quot;</span>, {<a class="code" href="i915__pciids_8h.html#a7f3d63da924b33d84e634105166c2413">INTEL_ADLS_FAM_IDS</a>}, <a class="code" href="adl__s_8h.html#a1d7c1eccd14ea6ea4737671538b177b2">adl_s_ddi_sel</a>, <a class="code" href="common_8h.html#a25f003de16c08a4888b69f619d70f427">ARRAY_SIZE</a>(<a class="code" href="adl__s_8h.html#a1d7c1eccd14ea6ea4737671538b177b2">adl_s_ddi_sel</a>), 0},</div>
<div class="line">    {<span class="stringliteral">&quot;ADL_P_FAM&quot;</span>, {<a class="code" href="i915__pciids_8h.html#a3a326de2059434875d3d6cb538a45c54">INTEL_ADLP_FAM_IDS</a>}, <a class="code" href="adl__p_8h.html#ab7ffd0ab57e369c9ceaa2505c030e1a8">adl_p_ddi_sel</a>, <a class="code" href="common_8h.html#a25f003de16c08a4888b69f619d70f427">ARRAY_SIZE</a>(<a class="code" href="adl__p_8h.html#ab7ffd0ab57e369c9ceaa2505c030e1a8">adl_p_ddi_sel</a>), 4},</div>
<div class="line">}</div>
<div class="ttc" id="aadl__p_8h_html_ab7ffd0ab57e369c9ceaa2505c030e1a8"><div class="ttname"><a href="adl__p_8h.html#ab7ffd0ab57e369c9ceaa2505c030e1a8">adl_p_ddi_sel</a></div><div class="ttdeci">ddi_sel adl_p_ddi_sel[]</div><div class="ttdef"><b>Definition:</b> <a href="adl__p_8h_source.html#l00030">adl_p.h:30</a></div></div>
<div class="ttc" id="aadl__s_8h_html_a1d7c1eccd14ea6ea4737671538b177b2"><div class="ttname"><a href="adl__s_8h.html#a1d7c1eccd14ea6ea4737671538b177b2">adl_s_ddi_sel</a></div><div class="ttdeci">ddi_sel adl_s_ddi_sel[]</div><div class="ttdef"><b>Definition:</b> <a href="adl__s_8h_source.html#l00030">adl_s.h:30</a></div></div>
<div class="ttc" id="acommon_8h_html_a25f003de16c08a4888b69f619d70f427"><div class="ttname"><a href="common_8h.html#a25f003de16c08a4888b69f619d70f427">ARRAY_SIZE</a></div><div class="ttdeci">#define ARRAY_SIZE(a)</div><div class="ttdef"><b>Definition:</b> <a href="common_8h_source.html#l00040">common.h:40</a></div></div>
<div class="ttc" id="ai915__pciids_8h_html_a1f23700b8452a6fe5163a6f7ba4b3bbf"><div class="ttname"><a href="i915__pciids_8h.html#a1f23700b8452a6fe5163a6f7ba4b3bbf">INTEL_TGL_IDS</a></div><div class="ttdeci">#define INTEL_TGL_IDS</div><div class="ttdef"><b>Definition:</b> <a href="i915__pciids_8h_source.html#l00028">i915_pciids.h:28</a></div></div>
<div class="ttc" id="ai915__pciids_8h_html_a3a326de2059434875d3d6cb538a45c54"><div class="ttname"><a href="i915__pciids_8h.html#a3a326de2059434875d3d6cb538a45c54">INTEL_ADLP_FAM_IDS</a></div><div class="ttdeci">#define INTEL_ADLP_FAM_IDS</div><div class="ttdef"><b>Definition:</b> <a href="i915__pciids_8h_source.html#l00098">i915_pciids.h:98</a></div></div>
<div class="ttc" id="ai915__pciids_8h_html_a7f3d63da924b33d84e634105166c2413"><div class="ttname"><a href="i915__pciids_8h.html#a7f3d63da924b33d84e634105166c2413">INTEL_ADLS_FAM_IDS</a></div><div class="ttdeci">#define INTEL_ADLS_FAM_IDS</div><div class="ttdef"><b>Definition:</b> <a href="i915__pciids_8h_source.html#l00103">i915_pciids.h:103</a></div></div>
<div class="ttc" id="atgl_8h_html_af557d3bb722698ff2e4669d32ea32680"><div class="ttname"><a href="tgl_8h.html#af557d3bb722698ff2e4669d32ea32680">tgl_ddi_sel</a></div><div class="ttdeci">ddi_sel tgl_ddi_sel[]</div><div class="ttdef"><b>Definition:</b> <a href="tgl_8h_source.html#l00030">tgl.h:30</a></div></div>
</div><!-- fragment -->
<p class="definition">Definition at line <a class="el" href="vsyncalter_8cpp_source.html#l00047">47</a> of file <a class="el" href="vsyncalter_8cpp_source.html">vsyncalter.cpp</a>.</p>

</div>
</div>
<a id="aed763f22f9fe5480ed6d5d90271ff5e2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aed763f22f9fe5480ed6d5d90271ff5e2">&#9670;&nbsp;</a></span>g_dev_fd</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int g_dev_fd = 0</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="vsyncalter_8cpp_source.html#l00053">53</a> of file <a class="el" href="vsyncalter_8cpp_source.html">vsyncalter.cpp</a>.</p>

</div>
</div>
<a id="ad528e611992e8351b42c55c1f9e59bdc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad528e611992e8351b42c55c1f9e59bdc">&#9670;&nbsp;</a></span>supported_platform</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int supported_platform = 0</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="vsyncalter_8cpp_source.html#l00054">54</a> of file <a class="el" href="vsyncalter_8cpp_source.html">vsyncalter.cpp</a>.</p>

</div>
</div>
<a id="ad08703bf05109d352d48f642ea5d560e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad08703bf05109d352d48f642ea5d560e">&#9670;&nbsp;</a></span>phy_enabled_list</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">list&lt;<a class="el" href="classphys.html">phys</a> *&gt;* phy_enabled_list = NULL</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="vsyncalter_8cpp_source.html#l00055">55</a> of file <a class="el" href="vsyncalter_8cpp_source.html">vsyncalter.cpp</a>.</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_97aefd0d527b934f1d99a682da8fe6a9.html">lib</a></li><li class="navelem"><a class="el" href="vsyncalter_8cpp.html">vsyncalter.cpp</a></li>
    <li class="footer">Generated on Wed Jun 5 2024 23:23:15 for Software Genlock by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1 </li>
  </ul>
</div>
</body>
</html>
